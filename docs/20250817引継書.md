# 注意事項とエラー記録（2025年8月16日）

## ⚠️ 受けた注意事項
1. **分割で出すな** - 修正コードは一発でまとめて出すこと
2. **修正前後をセットで出せ** - 現在のコードと修正後のコードを両方表示すること
3. **改行・インデントを含めて出せ** - 見やすい形で提示すること
4. **長すぎる** - 1行が長すぎて画面からはみ出すコードは避けること

## 🐛 発生したエラー
1. **構文エラー** - 文字列の閉じ括弧不足・過多
2. **スコープエラー** - const変数をonclick内で定義してメール側で参照不可
3. **改行エラー** - 長い文字列で適切な改行ができない

## 📝 試したコード
- contactStep()関数内でLINE・メールリンクに選択情報を追加
- encodeURIComponent()での文字列エンコード
- const info変数での情報まとめ

## 結果
全てエラーが発生し、元の状態に戻すことになった。

✅ 完了した実装
1. 基本機能

年代・働き方・応募理由・応募文の選択内容をメール本文に自動埋め込み
黒枠コピーボックス表示（右上にコピーボタン）
メール件名を「求人サイトを見ました」に変更
文字化け対策（年代の波線を半角ハイフンに変換）

2. 修正済みファイル
pages/chatbot.tsx
3. 主な修正箇所

568-572行目: selectedApplicationText = "" 変数追加
showApps()内: 応募文選択時に selectedApplicationText = t; で保存
contactStep()内: 黒枠コピーボックス作成・info生成・年代文字化け対策
730-731行目: LINEボタン文言修正
739-740行目: メールボタン文言・件名修正

🔄 次回実装予定
追加する機能

名前入力（ニックネームOK）
年代選択時の注意事項（赤字で「※18歳未満・高校生の方は応募できません」）
面接希望時間帯選択（平日午前・平日午後・土日午前・土日午後・相談したい）

新しいフロー

名前入力
年代選択（+注意事項表示）
働き方選択
応募理由選択
面接希望時間帯選択
応募文選択
コピーボックス表示

次回修正箇所

変数宣言に nameSel = "" 追加
初期表示を名前入力に変更
contactStep()でのinfo生成に名前・面接希望追加