# チャットボット管理画面 操作マニュアル

## 基本操作

### 新規作成の流れ
1. **新規作成**ボタンをクリック
2. モーダルが表示される
   - **チャット会話を作成**: 通常の会話機能
   - **応募文生成を作成**: 応募文自動生成機能
3. 作成したいタイプを選択して**OK**をクリック

### アイテムの基本構成
```
▼ 1. [タイトル入力欄] ☑有効/無効
```
- **ID番号**: 自動で割り当て
- **タイトル**: 管理用の名前を入力
- **有効/無効**: チェックで切り替え（無効にするとチャットで非表示）

---

## チャット会話機能

### 利用できる選択肢タイプ

#### 1. 通常選択肢
- ボタン形式の選択肢
- 複数の選択肢からユーザーが1つ選択
- Bot の回答パターンを複数設定可能

#### 2. 入力ボックス
- ユーザーがテキストを入力
- プレースホルダー（入力欄に薄く表示されるヒント文字）、必須設定、最大文字数を指定可能
- ボタン文字のカスタマイズ（ボタンの表示文字を自由に変更）可能

#### 3. プルダウン
- ドロップダウン形式の選択
- 選択肢を複数設定

**例:**
```
ボット文章: "お住まいの地域を教えてください"
選択肢:
├ 東京都
├ 大阪府  
├ 愛知県
└ その他
```

#### 4. リンクボタン
- 電話・メール・URLへのリンク
- **電話**: 電話番号を設定
- **メール**: アドレス + 件名を設定  
- **URL**: ウェブサイトのリンク + 新規タブ設定

**例:**
```
ボタンタイプ: 電話
電話番号: 03-1234-5678
ボタン文字: "電話で相談する"

ボタンタイプ: メール  
メールアドレス: recruit@example.com
件名: 求人について
ボタン文字: "メールで応募"

ボタンタイプ: URL
リンク先: https://example.com
新規タブで開く: ☑
ボタン文字: "詳細を見る"
```

**URL例:**
- LINE友だち追加: https://line.me/ti/p/xxxxxxxxx
- Instagram: https://instagram.com/username
- 会社ホームページ: https://company.com
- 資料ダウンロード: https://example.com/download
```

#### 5. 次のチャット会話へ進む
- 他のチャットアイテムに遷移（移動）
- グループ化やフロー（会話の流れ）制御に使用

### 選択肢の設定方法
```
選択肢1: [通常選択肢 ▼]
├ ボット文章: "質問内容をここに入力"
├ 選択肢設定:
│ ├ 選択肢1 [削除]
│ ├ 選択肢2 [削除]
│ └ [+ 選択肢追加]
└ 回答パターン:
  ├ パターン1: "Bot の返答" [削除]
  └ [+ パターン追加]
```

### ユーザー選択の表示
- ユーザーが選択した内容は `↪ 選択内容` の形式で表示
- この表示形式は固定（設定不要）

---

## 応募文生成機能

### 概要
複数の質問でユーザー情報を収集し、最後にまとめて表示する機能。
応募文を自動生成してユーザーに選択させることも可能。

### 利用できる選択肢タイプ

#### 1. 入力ボックス
- 名前入力等で使用
- チャット会話と同じ機能

#### 2. 記録
ユーザーの選択内容を後でまとめ出力するために記録

```
選択肢2: [記録 ▼]
├ ボット文章: "年代を教えてください"
├ 記録項目名: [項目名を記入] ※クリックで入力可能
├ 選択肢設定:
│ ├ 18-22歳 [削除]
│ ├ 30代 [削除]
│ └ [+ 選択肢追加]
```

**設定項目:**
- **記録項目名**: まとめ出力で表示される項目名
- **選択肢**: ユーザーが選べる選択肢を設定

#### 3. 組み合わせ文章
文章パーツからランダムに組み合わせて応募文を自動生成

```
選択肢4: [組み合わせ文章 ▼]
├ ボット文章: "応募文を3つ作りました" (任意)
├ 項目名: [応募文]
├ 文章パーツ管理:
│ ├ カテゴリ1
│ │ ├ パーツ1: [textarea] [削除]
│ │ ├ パーツ2: [textarea] [削除]
│ │ └ [+ パーツ追加] (最大10個)
│ ├ カテゴリ2 (同じ構造)
│ ├ カテゴリ3 (同じ構造)
│ └ [プレビュー生成] ボタン
├ 再生成設定:
│ ├ ☑ 再生成機能有効
│ ├ ボタン文字: [もう一回作成]
│ └ 制限回数: [無制限 ▼]
```

**仕組み:**
- 各カテゴリから1個ずつランダム選択
- 組み合わせて3パターンの文章を作成
- ユーザーが3つから1つを選択
- 再生成ボタンで新しい3パターンを作成

**例: 10×10×10 = 1,000通りの組み合わせ**

#### 4. まとめ出力
記録した内容をまとめて黒枠コピー形式で表示

```
選択肢7: [まとめ出力 ▼]
├ ボット文章: "内容を確認してコピーしてください"
├ 出力項目設定:
│ ├ 項目名: [お名前] 参照: [入力ボックス1] [削除]
│ ├ 項目名: [ご年代] 参照: [記録選択肢2] [削除]
│ ├ 項目名: [応募文] 参照: [組み合わせ文章4] [削除]
│ └ [+ 出力項目追加]
├ 出力フォーマット: [textarea]
│ 例: "{お名前}\n{ご年代}\n{応募文}"
```

**設定方法:**
- **項目名**: コピーボックスに表示される名前
- **参照**: どの選択肢から値を取得するか選択
- **出力フォーマット**: 表示順序や形式を指定

### 応募文生成フローの例

```
▼ 1. [求人応募フロー] ☑
   └ 選択肢1: [入力ボックス] → 名前入力
   └ 選択肢2: [記録] → 年代選択
   └ 選択肢3: [記録] → 働き方選択
   └ 選択肢4: [記録] → 応募理由選択
   └ 選択肢5: [組み合わせ文章] → 応募文自動生成
   └ 選択肢6: [記録] → 面接希望時間
   └ 選択肢7: [まとめ出力] → 全内容をコピーボックス表示
```

---

## 操作のコツ

### ボット文章の使い方
- 各選択肢タイプでボット文章を入力可能
- 空欄の場合、ボット発言なしで選択肢のみ表示
- 組み合わせ文章では通常空欄（ユーザーが選択するため）

### 効果的な使い分け
- **チャット会話**: シンプルな質問・回答
- **応募文生成**: 情報収集 + 自動文章作成が必要な場合

### プレビュー機能（事前確認機能）の活用
- 組み合わせ文章の設定後、プレビューで生成例を確認
- 文章パーツの品質チェックに活用

### まとめ出力のカスタマイズ（表示内容の調整）
- 項目名は自由に設定可能
- 出力フォーマット（表示形式）で改行や区切り文字を調整
- 業種に応じて「応募文」→「お問い合わせ内容」等に変更可能

---

## 注意事項

- アイテムの削除は慎重に行う（復元不可）
- プレビュー機能でテストしてから公開
- ユーザーの入力内容は自動で保存される
- 長すぎる文章パーツは避ける（読みやすさを重視）